import { Button } from "../../../../components/ui/button";
import { ArrowLeft, Download } from "lucide-react";
import Link from "next/link";
import Image from "next/image";

interface NotePageProps {
    params: {
        category?: string;
        note?: string;
    };
}

export default function NotePage({ params }: NotePageProps) {
    const { category = "Unknown", note = "" } = params; // Default values to avoid undefined errors

    // Safely format the note name
    const formattedNote = note
        ? note.split("-").map((word) => word.charAt(0).toUpperCase() + word.slice(1)).join(" ")
        : "Untitled";

    return (
        <div className="container mx-auto px-4 py-8">
            <div className="flex items-center gap-2 mb-6">
                <Button asChild variant="ghost" size="sm">
                    <Link href="/pentest-notes">
                        <ArrowLeft className="h-4 w-4 mr-2" />
                        Back to Notes
                    </Link>
                </Button>
            </div>

            <div className="bg-card rounded-lg border p-6">
                <div className="flex justify-between items-start mb-6">
                    <h1>{category.toUpperCase()} {formattedNote}</h1>
                    <Button>
                        <Download className="h-4 w-4 mr-2" />
                        Download PDF
                    </Button>
                </div>

                <div className="prose dark:prose-invert max-w-none">
                    <p>
                        This is a tutorial for {category.toUpperCase()} {formattedNote}.
                    </p>

                    <h2>Overview</h2>
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc
                        nisl aliquet nunc, quis aliquam nisl nunc quis nisl.
                    </p>

                    <h2>Example</h2>
                    <div className="my-6 border rounded-lg overflow-hidden">
                        <Image
                            src="/placeholder.svg?height=400&width=800"
                            alt="Example screenshot"
                            width={800}
                            height={400}
                            className="w-full"
                        />
                    </div>

                    <h2>Steps</h2>
                    <ol>
                        <li>Step 1: Lorem ipsum dolor sit amet</li>
                        <li>Step 2: Consectetur adipiscing elit</li>
                        <li>Step 3: Nullam euismod, nisl eget aliquam ultricies</li>
                        <li>Step 4: Nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl</li>
                    </ol>

                    <h2>Configuration</h2>
                    <pre className="bg-muted p-4 rounded-lg overflow-x-auto">
                        <code>
                            {`# Example configuration
config_option = "value"
enable_feature = true
max_connections = 100`}
                        </code>
                    </pre>
                </div>
            </div>
        </div>
    );
}
